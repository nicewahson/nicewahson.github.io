---
title: 读写文件
date: 2016-11-21 18:33:07
tags: 文件操作
categories: nodejs笔记
---
var fs=require('fs'); //同步读取，读取配置文件时可以使用
fs.readFileSync('./index.html','utf-8');
fs.readFile('./index.html','utf-8',function(err,data){
					console.log(data);//操作完毕后打印结果
					}) //异步读取
fs.readFile(filename,[options],callback);如果不在options参数中指定encoding参数，那么读取的结果得到的是一个二进制buffer对象。options中可以用的属性,flag(以何种方式读或是写),encoding
fs.writeFile(filename,data,[options],callback);options中可以用的属性，flag,mode(读写权限),encoding(可指定属性值为'utf-8','ascii','base64',当data为buffer对象时该属性自动忽略)
fs.appendFile(...),参数同上，在文件底部追加数据，和上面不同的是，options中的flag属性默认值为'a',表示向文件底部追加，如果文件不存在，创建文件
从指定位置读写文件
开始读写之前,先fs.open(filename,flags,[mode],function(err,fd){...}),fd是文件描述符
然后fs.read(fd,buffer,offset,length,position,callback),
参数： fd:open方法返回的文件描述符，buffer是一个Buffer对象，表示将文件数据读取到哪个缓冲区，offset指定向缓冲区写入数据时的开始写入位置，length参数用于指定从文件中读取的字节数，
position用于指定读取文件时的开始位置(以字节为单位),callback指定,function(err,bytesRead,buffer){//bytesRead参数值代表实际读取的字节数，buffer为被读取的缓存区对象}